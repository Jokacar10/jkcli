FROM alpine:3.10.1

# Create a 5GB file with ELF header for testing (using larger blocks for speed)
RUN echo -ne "\x7f\x45\x4c\x46\x02\x01\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x00\x3e\x00\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x40\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x40\x00\x38\x00\x00\x00\x40\x00\x00\x00\x00\x00" > /large-elf-file && \
    dd if=/dev/zero bs=1M count=5120 >> /large-elf-file 2>/dev/null

# Keep the large file in the image
WORKDIR /app
